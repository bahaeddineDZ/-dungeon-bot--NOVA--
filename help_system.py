
import discord
from discord.ext import commands
from discord import Embed, ButtonStyle, Interaction
from discord.ui import View, Button, Select, Modal, TextInput
import json
import time

class AdvancedHelpSystem:
    def __init__(self, bot):
        self.bot = bot
        
        # ูุธุงู ุงูุดุฑูุญุงุช ุงูููุตู
        self.detailed_explanations = {
            "economy": {
                "title": "๐ฐ ุงููุธุงู ุงูุงูุชุตุงุฏู ุงููุชูุฏู",
                "icon": "๐ฐ",
                "description": "ูุธุงู ุงูุชุตุงุฏู ูุชูุงูู ูุญุงูู ุงูุงูุชุตุงุฏ ุงูุญูููู",
                "sections": {
                    "currencies": {
                        "title": "๐ฑ ุงูุนููุงุช",
                        "content": """
**๐ต ุงูุฏููุงุฑ ุงูุฃูุฑููู:**
โข ุงูุนููุฉ ุงูุฃุณุงุณูุฉ ูู ุงููุธุงู
โข ูููุชุณุจ ูู: ุงูุนููุ ุงูุชุฏุงููุ ุงูุฃูุนุงุจุ ุจูุน ุงููุญุงุตูู
โข ููุณุชุฎุฏู ูู: ุงูุดุฑุงุก ูู ุงููุชุฌุฑุ ุงูุชุฏุงููุ ุงูุงุณุชุซูุงุฑ

**๐ช ุงูุฐูุจ:**
โข ุนููุฉ ูุงุฏุฑุฉ ููููุฉ
โข ูููุชุณุจ ูู: ุงููุธุงุฆู ุงูุนููุงุ ุงูููุงูุขุช ุงูุฎุงุตุฉ
โข ููุณุชุฎุฏู ูู: ุดุฑุงุก ุงูุนุชุงุฏุ ุชุฑููุฉ ุงูุงุฎุชุตุงุต
โข ุงููููุฉ: 1 ุฐูุจ = 50 ุฏููุงุฑ

**๐ ุงููุงุณ:**
โข ุฃูุฏุฑ ุงูุนููุงุช ูุฃุบูุงูุง
โข ูููุชุณุจ ูู: ุงูููุงูุขุช ุงููุงุฏุฑุฉุ ุฅูุฌุงุฒ ุงูููุงู ุงูุตุนุจุฉ
โข ููุณุชุฎุฏู ูู: ุดุฑุงุก ุงูุนุชุงุฏ ุงูุฃุณุทูุฑูุ ุฏุฎูู ุงูุณุฑุงุฏูุจ
โข ุงููููุฉ: 1 ูุงุณ = 100 ุฏููุงุฑ
                        """,
                        "tips": [
                            "๐ก ูููุน ูุตุงุฏุฑ ุฏุฎูู ูุฒูุงุฏุฉ ุซุฑูุชู",
                            "๐ฏ ุฑูุฒ ุนูู ุฌูุน ุงููุงุณ ููุนุชุงุฏ ุงูููู",
                            "๐ ุฑุงูุจ ูุณุจ ุงูุชุญููู ุจูู ุงูุนููุงุช"
                        ]
                    },
                    "jobs": {
                        "title": "๐ท ูุธุงู ุงููุธุงุฆู",
                        "content": """
**ุงูุชุฏุฑุฌ ุงููุธููู:**
1. **ููุงุทู** โ ุฏุฎู: 60-90k ุฏููุงุฑ
2. **ุฑุณุงู** โ ุฏุฎู: 60-90k ุฏููุงุฑ  
3. **ุทุจูุจ** โ ุฏุฎู: 60-90k ุฏููุงุฑ
4. **ููุฏู** โ ุฏุฎู: 40-60k ุฏููุงุฑ + 10-20 ุฐูุจ
5. **ุฌููุฑุงู** โ ุฏุฎู: 40-60k ุฏููุงุฑ + 10-20 ุฐูุจ
6. **ูุฒูุฑ** โ ุฏุฎู: 40-60k ุฏููุงุฑ + 10-20 ุฐูุจ
7. **ููู** โ ุฏุฎู: 20-40 ุฐูุจ ููุท
8. **ุฅูุจุฑุงุทูุฑ** โ ุฏุฎู: 20-40 ุฐูุจ ููุท

**ูุชุทูุจุงุช ุงูุชุฑููุฉ:**
โข ูุจุงูุบ ูุชุฒุงูุฏุฉ ูู ุงูุฐูุจ ูุงูุฏููุงุฑ
โข ูู ุชุฑููุฉ ุชุญุชุงุฌ ููุงุฑุฏ ุฃูุซุฑ ูู ุงูุณุงุจูุฉ
                        """,
                        "tips": [
                            "โก ุงุฑุชู ุจุฐูุงุก - ุงููุธุงุฆู ุงูุนููุง ุชุนุทู ุฐูุจ ุฃูุซุฑ",
                            "๐ฐ ุงุญูุธ ุงูููุงุฑุฏ ููุชุฑููุงุช ุงููููุฉ",
                            "๐ ุงููุฏู ุงูููุงุฆู: ูุตูู ุฑุชุจุฉ ุงูุฅูุจุฑุงุทูุฑ"
                        ]
                    }
                }
            },
            
            "combat": {
                "title": "โ๏ธ ูุธุงู ุงููุชุงู ูุงูุงุฎุชุตุงุตุงุช",
                "icon": "โ๏ธ",
                "description": "ูุธุงู ูุชุงู ูุชุทูุฑ ูุน ุงุฎุชุตุงุตุงุช ูุฑูุฏุฉ",
                "sections": {
                    "specializations": {
                        "title": "๐ฏ ุงูุงุฎุชุตุงุตุงุช",
                        "content": """
**โ๏ธ ุงููุญุงุฑุจ (Warrior):**
โข ุงููุฏุฑุฉ ุงูุฎุงุตุฉ: ุงูุงูุชูุงู
โข ููููู ุงุณุชุฑุฏุงุฏ 40-100% ูู ุงูุฃููุงู ุงููุณุฑููุฉ
โข ุฑุชุจ ุงูููุฉ: ูุจูู (40%) โ ุดุฌุงุน (60%) โ ูุงุฑุณู (80%) โ ุฃุณุทูุฑู (100%)
โข ููุงุณุจ ููุงุนุจูู ุงูุฐูู ูุชุนุฑุถูู ููููุจ ูุซูุฑุงู

**๐ก๏ธ ุงูุดุงูุงู (Shaman):**
โข ุงููุฏุฑุฉ ุงูุฎุงุตุฉ: ุงูุญูุงูุฉ
โข ููููู ุญูุงูุฉ ููุณู ุฃู ุงูุขุฎุฑูู ูู ุงูููุจ
โข ูุฏุฉ ุงูุญูุงูุฉ: 60-150 ุฏูููุฉ ุญุณุจ ุงูุฑุชุจุฉ
โข ูู ุงูุฑุชุจุฉ ุงูุฃุณุทูุฑูุฉ ููููู ุญูุงูุฉ ุงูุขุฎุฑูู

**๐ฅท ุงููููุฌุง (Ninja):**
โข ุงููุฏุฑุฉ ุงูุฎุงุตุฉ: ุงูููุจ ุงููุถุงุนู
โข ููููู ููุจ 20-80% ูู ุฃููุงู ุงูุถุญูุฉ
โข ุฃุณุฑุน ูู ุงูููุจ ูุฃูุซุฑ ูุนุงููุฉ
โข ููุงุณุจ ููุงุนุจูู ุงูุนุฏูุงูููู

**๐งฟ ุงูุณูุฑุง (Sura):**
โข ุงููุฏุฑุฉ ุงูุฎุงุตุฉ: ุนูุณ ุงูููุจ
โข ุงุญุชูุงู 20-80% ูุนูุณ ุงูููุจ ุนูู ุงูููุงุฌู
โข ููููู ุชูุนูู ุฏุฑุน ุฎุงุต ุถุฏ ุงูููุจ
โข ุชูุงุฒู ูุซุงูู ุจูู ุงููุฌูู ูุงูุฏูุงุน
                        """,
                        "tips": [
                            "๐ฏ ุงุฎุชุฑ ุงูุงุฎุชุตุงุต ุญุณุจ ุฃุณููุจ ูุนุจู",
                            "๐ ุทููุฑ ุฑุชุจุชู ููุฏุฑุงุช ุฃููู",
                            "โ๏ธ ูู ุงุฎุชุตุงุต ูู ููุงุท ููุฉ ูุถุนู"
                        ]
                    },
                    "combat_mechanics": {
                        "title": "โ๏ธ ุขููุงุช ุงููุชุงู",
                        "content": """
**ูุธุงู ุงูููุจ:**
โข ูููู ููุจ 10% ูู ุฑุตูุฏ ุงูุถุญูุฉ ูุญุฏ ุฃุฏูู
โข ุงููููุฌุง ูุญุตู ุนูู ูุณุจุฉ ุฃุนูู ุญุณุจ ุฑุชุจุชู
โข ูุง ูููู ููุจ ูู ูุฏูู ุฃูู ูู 50 ุฏููุงุฑ
โข ุชุจุฑูุฏ 30 ุฏูููุฉ ุจูู ูู ููุจุฉ

**ูุธุงู ุงูุญูุงูุฉ:**
โข ุงูุดุงูุงู ููููู ุชูุนูู ุญูุงูุฉ ูุคูุชุฉ
โข ุงูุณูุฑุง ูู ุฏุฑุน ุฎุงุต ุถุฏ ุงูููุจ
โข ุงููุญุงุฑุจูู ูููููู ุงูุงูุชูุงู ุฎูุงู 24 ุณุงุนุฉ

**ูุธุงู ุงูุงูุชูุงู:**
โข ูุชุงุญ ูููุญุงุฑุจูู ููุท
โข ูุฌุจ ุฃู ูููู ููุงู ุณุฌู ููุจ ุฎูุงู 24 ุณุงุนุฉ
โข ูุณุจุฉ ุงูุงุณุชุฑุฏุงุฏ ุชุนุชูุฏ ุนูู ุฑุชุจุฉ ุงููุญุงุฑุจ
                        """,
                        "tips": [
                            "๐ก๏ธ ุงุณุชุฎุฏู ุงูุญูุงูุฉ ูู ุงูุฃููุงุช ุงูููุงุณุจุฉ",
                            "โก ุงูููุจ ูุชุทูุจ ุงุณุชุฑุงุชูุฌูุฉ ูุชูููุช",
                            "๐ ุงูุงูุชูุงู ูุฑุตุฉ ูุงุณุชุฑุฏุงุฏ ุฃููุงูู"
                        ]
                    }
                }
            },
            
            "dungeons": {
                "title": "๐ฐ ูุธุงู ุงูุณุฑุงุฏูุจ",
                "icon": "๐ฐ",
                "description": "ุชุญุฏูุงุช PvE ูุน ููุงูุขุช ุฃุณุทูุฑูุฉ",
                "sections": {
                    "dungeon_types": {
                        "title": "๐๏ธ ุฃููุงุน ุงูุณุฑุงุฏูุจ",
                        "content": """
**ุงููุณุชูู 1 - ๐๏ธ ุณุฑุฏุงุจ ุงููุจุชุฏุฆูู:**
โข ุงูุฒุนูู: ๐ ูููู ุนุธูู ูุฏูู
โข ุงูุตุญุฉ: 150 | ุงููุฌูู: 25 | ุงูุฏูุงุน: 10
โข ุงูุชูููุฉ: 1 ูุงุณ
โข ุงูููุงูุขุช: 10-25 ุฐูุจุ 50k-100k ุฏููุงุฑ

**ุงููุณุชูู 2 - ๐ ููู ุงูุฃููุงุฌ:**
โข ุงูุฒุนูู: ๐ ุฃุฎุทุจูุท ุนููุงู
โข ุงูุตุญุฉ: 300 | ุงููุฌูู: 40 | ุงูุฏูุงุน: 20
โข ุงูุชูููุฉ: 3 ูุงุณ
โข ุงูููุงูุขุช: 25-50 ุฐูุจุ 100k-200k ุฏููุงุฑ

**ุงููุณุชูู 3 - ๐ฅ ุจุฑุฌ ุงูููุจ:**
โข ุงูุฒุนูู: ๐ฅ ุชููู ุงููุงุฑ ุงูุฃุญูุฑ
โข ุงูุตุญุฉ: 500 | ุงููุฌูู: 60 | ุงูุฏูุงุน: 35
โข ุงูุชูููุฉ: 5 ูุงุณ
โข ุงูููุงูุขุช: 50-100 ุฐูุจุ 200k-400k ุฏููุงุฑ

**ุงููุณุชูู 4 - ๐ ูุตุฑ ุงูููุช:**
โข ุงูุฒุนูู: ๐ป ููู ุงูุฃุดุจุงุญ
โข ุงูุตุญุฉ: 800 | ุงููุฌูู: 85 | ุงูุฏูุงุน: 50
โข ุงูุชูููุฉ: 8 ูุงุณ
โข ุงูููุงูุขุช: 100-200 ุฐูุจุ 400k-800k ุฏููุงุฑ

**ุงููุณุชูู 5 - โก ุนุฑุด ุงูุขููุฉ:**
โข ุงูุฒุนูู: โก ุฅูู ุงูุญุฑุจ ุงูุฃุณุทูุฑู
โข ุงูุตุญุฉ: 1200 | ุงููุฌูู: 120 | ุงูุฏูุงุน: 80
โข ุงูุชูููุฉ: 15 ูุงุณ
โข ุงูููุงูุขุช: 200-400 ุฐูุจุ 800k-1.5M ุฏููุงุฑ
                        """,
                        "tips": [
                            "๐ ุงุจุฏุฃ ุจุงูุณุฑุงุฏูุจ ุงูุณููุฉ ูุชุทููุฑ ูุฏุฑุงุชู",
                            "โ๏ธ ุญุณูู ุนุชุงุฏู ูุจู ุงูุชุญุฏูุงุช ุงูุตุนุจุฉ",
                            "๐ ุงูุนุชุงุฏ ุงููุงุฏุฑ ูุฃุชู ูู ุงูุณุฑุงุฏูุจ ุงูุนููุง"
                        ]
                    },
                    "equipment": {
                        "title": "โ๏ธ ูุธุงู ุงูุนุชุงุฏ",
                        "content": """
**ุฃููุงุน ุงูุนุชุงุฏ:**

**ุงูุฃุณูุญุฉ:**
โข โ๏ธ ุณูู ุฎุดุจู: +10 ูุฌูู (2 ูุงุณ)
โข ๐ก๏ธ ุณูู ูููุงุฐู: +25 ูุฌูู (5 ูุงุณ)
โข โ๏ธ ุณูู ุงูุชููู: +50 ูุฌููุ +5 ุฏูุงุน (15 ูุงุณ)
โข ๐ฑ ุฑูุญ ุงูุขููุฉ: +80 ูุฌููุ +10 ุฏูุงุน (30 ูุงุณ)

**ุงูุฏุฑูุน:**
โข ๐ก๏ธ ุฏุฑุน ุฌูุฏู: +15 ุฏูุงุน (3 ูุงุณ)
โข ๐ก๏ธ ุฏุฑุน ุญุฏูุฏู: +30 ุฏูุงุน (7 ูุงุณ)
โข ๐ก๏ธ ุฏุฑุน ุงูุชููู: +5 ูุฌููุ +60 ุฏูุงุน (20 ูุงุณ)

**ุงูุฅูุณุณูุงุฑุงุช:**
โข โ๏ธ ุฎูุฐุฉ ุจุฑููุฒูุฉ: +2 ูุฌููุ +8 ุฏูุงุน (2 ูุงุณ)
โข ๐ ุชุงุฌ ุงููุญุงุฑุจ: +8 ูุฌููุ +15 ุฏูุงุน (12 ูุงุณ)
โข ๐ ุฎุงุชู ุงูููุฉ: +15 ูุฌููุ +5 ุฏูุงุน (10 ูุงุณ)
โข ๐ ุฎุงุชู ุงูุญูุงูุฉ: +3 ูุฌููุ +20 ุฏูุงุน (10 ูุงุณ)

**ุงููุณุชูููุงุช:**
โข ๐งช ุฌุฑุนุฉ ุงูุดูุงุก: +100 ุตุญุฉ (1 ูุงุณ)
โข โก ุฌุฑุนุฉ ุงูููุฉ: +20 ูุฌูู ูู3 ุฌููุงุช (3 ูุงุณ)
                        """,
                        "tips": [
                            "โ๏ธ ูุงุฒู ุจูู ุงููุฌูู ูุงูุฏูุงุน",
                            "๐ฐ ุงุณุชุซูุฑ ูู ุงูุนุชุงุฏ ุงููุงุฏุฑ ููุณุฑุงุฏูุจ ุงูุตุนุจุฉ",
                            "๐งช ูุง ุชูุณ ุงููุณุชูููุงุช ูู ุงููุนุงุฑู ุงูุทูููุฉ"
                        ]
                    }
                }
            },
            
            "farming": {
                "title": "๐พ ูุธุงู ุงูุฒุฑุงุนุฉ",
                "icon": "๐พ", 
                "description": "ุงุฒุฑุน ูุงุญุตุฏ ูุชุญูู ุฃุฑุจุงุญ ูุณุชุฏุงูุฉ",
                "sections": {
                    "crops": {
                        "title": "๐ฑ ุฃููุงุน ุงููุญุงุตูู",
                        "content": """
**ุงููุญุงุตูู ุงููุชุงุญุฉ:**

**๐พ ุงูููุญ:**
โข ุณุนุฑ ุงูุจุฐูุฑ: 150 ุฏููุงุฑ
โข ููุช ุงูููู: 1 ุณุงุนุฉ
โข ุงูุฑุจุญ: 1,000-3,000 ุฏููุงุฑ
โข ูุณุจุฉ ุงูุฑุจุญ: 567%-1900%

**๐ฅ ุงูุฌุฒุฑ:**
โข ุณุนุฑ ุงูุจุฐูุฑ: 250 ุฏููุงุฑ
โข ููุช ุงูููู: 1.5 ุณุงุนุฉ
โข ุงูุฑุจุญ: 2,000-4,000 ุฏููุงุฑ
โข ูุณุจุฉ ุงูุฑุจุญ: 700%-1500%

**๐ ุงูุทูุงุทู:**
โข ุณุนุฑ ุงูุจุฐูุฑ: 400 ุฏููุงุฑ
โข ููุช ุงูููู: 2 ุณุงุนุฉ
โข ุงูุฑุจุญ: 3,500-6,000 ุฏููุงุฑ
โข ูุณุจุฉ ุงูุฑุจุญ: 775%-1400%

**๐ฝ ุงูุฐุฑุฉ:**
โข ุณุนุฑ ุงูุจุฐูุฑ: 600 ุฏููุงุฑ
โข ููุช ุงูููู: 3 ุณุงุนุฉ
โข ุงูุฑุจุญ: 6,000-9,000 ุฏููุงุฑ
โข ูุณุจุฉ ุงูุฑุจุญ: 900%-1400%

**๐ ุงููุฑุงููุฉ:**
โข ุณุนุฑ ุงูุจุฐูุฑ: 1,000 ุฏููุงุฑ
โข ููุช ุงูููู: 4 ุณุงุนุฉ
โข ุงูุฑุจุญ: 10,000-15,000 ุฏููุงุฑ
โข ูุณุจุฉ ุงูุฑุจุญ: 900%-1400%
                        """,
                        "tips": [
                            "โฐ ูููุง ุฒุงุฏ ููุช ุงููููุ ุฒุงุฏ ุงูุฑุจุญ",
                            "๐ ุงุญุณุจ ูุณุจุฉ ุงูุฑุจุญ ููู ุณุงุนุฉ ูุชุญุณูู ุงูุงุณุชุซูุงุฑ",
                            "๐ฑ ุงุฒุฑุน ูุจู ุงูููู ููุงุณุชูุงุฏุฉ ูู ุงูููุช"
                        ]
                    },
                    "farming_strategy": {
                        "title": "๐ ุงุณุชุฑุงุชูุฌูุงุช ุงูุฒุฑุงุนุฉ",
                        "content": """
**ูููุจุชุฏุฆูู:**
โข ุงุจุฏุฃ ุจุงูููุญ ูุชุฏููุฑ ุณุฑูุน ููุฃููุงู
โข ุงุฒุฑุน ูููุงุช ุตุบูุฑุฉ ูุชูููู ุงููุฎุงุทุฑ
โข ุฑุงูุจ ุฃููุงุช ุงููุถุฌ

**ูููุชูุณุทูู:**
โข ูููุน ุจูู ูุญุงุตูู ุณุฑูุนุฉ ูุจุทูุฆุฉ
โข ุงุณุชุซูุฑ ูู ุงูุฌุฒุฑ ูุงูุทูุงุทู
โข ุฎุทุท ููุฒุฑุงุนุฉ ูุจู ูุชุฑุงุช ุงูุบูุงุจ

**ูููุญุชุฑููู:**
โข ุฑูุฒ ุนูู ุงูุฐุฑุฉ ูุงููุฑุงููุฉ ููุฃุฑุจุงุญ ุงูุนุงููุฉ
โข ุงุญุณุจ ุงูุนุงุฆุฏ ุนูู ุงูุงุณุชุซูุงุฑ ุจุฏูุฉ
โข ุงุณุชุฎุฏู ุฌุฏููุฉ ุฒูููุฉ ููุญุตุงุฏ ุงูููุชุธู

**ูุตุงุฆุญ ูุชูุฏูุฉ:**
โข ุงุฒุฑุน ูุจู ุงูููู ููุงุณุชูุงุฏุฉ ูู 8 ุณุงุนุงุช
โข ุงุณุชุซูุฑ ุฃุฑุจุงุญ ุงููุญุงุตูู ุงูุณุฑูุนุฉ ูู ุงูุจุทูุฆุฉ
โข ุฑุงูุจ ุฑุตูุฏู ูุชุฌูุจ ุงูุฅููุงุณ ุฅุฐุง ูุดู ุงููุญุตูู
                        """,
                        "tips": [
                            "๐ ุงูุชูููุช ููุชุงุญ ุงููุฌุงุญ ูู ุงูุฒุฑุงุนุฉ",
                            "๐ ุงุนุชูุฏ ุนูู ุงูุจูุงูุงุช ูู ุงุชุฎุงุฐ ุงููุฑุงุฑุงุช",
                            "๐ ูููุน ูุญุงุตููู ูุชูููู ุงููุฎุงุทุฑ"
                        ]
                    }
                }
            },
            
            "trading": {
                "title": "๐ ูุธุงู ุงูุชุฏุงูู ูุงูุงุณุชุซูุงุฑ",
                "icon": "๐",
                "description": "ุงุถุงุฑุจ ูู ุงูุฃุณูุงู ุงููุงููุฉ ุงูุนุงูููุฉ",
                "sections": {
                    "trading_basics": {
                        "title": "๐ ุฃุณุงุณูุงุช ุงูุชุฏุงูู",
                        "content": """
**ููู ูุนูู ุงูุชุฏุงูู:**
โข ูุณุจุฉ ูุฌุงุญ: 60% (ุฃุนูู ูู ุงูุฎุณุงุฑุฉ)
โข ูู ุญุงูุฉ ุงููุฌุงุญ: ุฑุจุญ 10%-90% ูู ุงููุจูุบ
โข ูู ุญุงูุฉ ุงููุดู: ุฎุณุงุฑุฉ 5%-80% ูู ุงููุจูุบ
โข ุชุจุฑูุฏ: ุณุงุนุชุงู ุจูู ูู ุชุฏุงูู

**ุฎูุงุฑุงุช ุงูุชุฏุงูู:**
โข ุฑุจุน ุงูุฑุตูุฏ (25%)
โข ูุตู ุงูุฑุตูุฏ (50%) 
โข ุซูุงุซ ุฃุฑุจุงุน ุงูุฑุตูุฏ (75%)
โข ูู ุงูุฑุตูุฏ (100%) - ุฎุทุฑ ุนุงูู!

**ุฅุฏุงุฑุฉ ุงููุฎุงุทุฑ:**
โข ูุง ุชุณุชุซูุฑ ุฃุจุฏุงู ูู ุฑุตูุฏู
โข ุงุจุฏุฃ ุจูุจุงูุบ ุตุบูุฑุฉ ูุชุนูู ุงูุณูู
โข ุงุญุชูุธ ุจุตูุฏูู ุทูุงุฑุฆ ููุฎุณุงุฆุฑ
                        """,
                        "tips": [
                            "โ๏ธ ุงูุชุฏุงูู ูุญููู ุจุงููุฎุงุทุฑ - ุงุณุชุซูุฑ ุจุญุฐุฑ",
                            "๐ ุงูุฃุฑุจุงุญ ุงูุนุงููุฉ ุชุฃุชู ูุน ูุฎุงุทุฑ ุนุงููุฉ",
                            "๐ฏ ุงุณุชุฎุฏู ุงุณุชุฑุงุชูุฌูุฉ ุซุงุจุชุฉ ูุชูุณู ุจูุง"
                        ]
                    },
                    "investment": {
                        "title": "๐ผ ูุธุงู ุงูุงุณุชุซูุงุฑ",
                        "content": """
**ุดุฑูุงุช ุงูุงุณุชุซูุงุฑ:**
โข ๐ ุดุฑูุฉ ุงูุฐูุจ ุงูุฏูููุฉ
โข ๐ฆ ุจูู ุงูุงุณุชุซูุงุฑ ุงูุขูู
โข ๐ป ุชูููููุฌูุง ุงููุณุชูุจู
โข ๐ข๏ธ ุงูููุท ุงูุนุงูููุฉ
โข ๐๏ธ ุดุฑูุฉ ุงูุจูุงุก ุงููุจุฑู

**ูุชุงุฆุฌ ุงูุงุณุชุซูุงุฑ:**
โข ูุทุงู ุงูุนุงุฆุฏ: ูู -40% ุฅูู +50%
โข ูู ุดุฑูุฉ ููุง ูุฎุงุทุฑ ูุฎุชููุฉ
โข ุชุจุฑูุฏ: 3 ุณุงุนุงุช ุจูู ูู ุงุณุชุซูุงุฑ

**ุงุณุชุฑุงุชูุฌูุงุช ุงูุงุณุชุซูุงุฑ:**
โข ุงูุชูููุน: ูุฒุน ุงุณุชุซูุงุฑุงุชู ุนูู ุนุฏุฉ ุดุฑูุงุช
โข ุงูุตุจุฑ: ุงูุงุณุชุซูุงุฑ ูุนุจุฉ ุทูููุฉ ุงููุฏู
โข ุงูุชุญููู: ุฑุงูุจ ุฃุฏุงุก ุงูุดุฑูุงุช ุงููุฎุชููุฉ
                        """,
                        "tips": [
                            "๐ข ูู ุดุฑูุฉ ููุง ููุท ูุฎุชูู ูู ุงููุฎุงุทุฑ ูุงูุนูุงุฆุฏ",
                            "โณ ูู ุตุจูุฑุงู - ุงูุงุณุชุซูุงุฑ ุงูุฌูุฏ ูุญุชุงุฌ ููุช",
                            "๐ ุงุญุชูุธ ุจุณุฌู ูุงุณุชุซูุงุฑุงุชู ูุชุญููู ุงูุฃุฏุงุก"
                        ]
                    }
                }
            }
        }
    
    def create_main_help_embed(self):
        """ุฅูุดุงุก ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ ูููุณุงุนุฏุฉ"""
        embed = Embed(
            title="๐ ูุฑูุฒ ุงููุณุงุนุฏุฉ ุงูุดุงูู",
            description="""
๐ **ูุฑุญุจุงู ุจู ูู ุฏููู ุงููุธุงู ุงููุงูู!**

ูุฐุง ุงูุฏููู ุงูุชูุงุนูู ุณูุฃุฎุฐู ูู ุฌููุฉ ุดุงููุฉ ุนุจุฑ ุฌููุน ุฃูุธูุฉ ุงููุนุจุฉ:

๐ฏ **ูุง ุณุชุชุนููู:**
โข ููููุฉ ุจูุงุก ุงูุจุฑุงุทูุฑูุชู ุงูุงูุชุตุงุฏูุฉ
โข ุฃุณุฑุงุฑ ุงููุชุงู ูุงูุงุฎุชุตุงุตุงุช ุงููุชูุฏูุฉ  
โข ุงุณุชุฑุงุชูุฌูุงุช ุงูุฒุฑุงุนุฉ ูุงูุชุฏุงูู ุงููุฑุจุญุฉ
โข ุชุญุฏูุงุช ุงูุณุฑุงุฏูุจ ูุงูุนุชุงุฏ ุงูุฃุณุทูุฑู
โข ูุตุงุฆุญ ูู ุงูุฎุจุฑุงุก ูุชุตุจุญ ุฃููู ูุงุนุจ

๐ก **ุงุฎุชุฑ ุงููุณู ุงูุฐู ุชุฑูุฏ ุงุณุชูุดุงูู:**
            """,
            color=0x2c3e50
        )
        
        embed.add_field(
            name="๐ ููููุฉ ุงูุงุณุชุฎุฏุงู",
            value="โข ุงุถุบุท ุนูู ุงูุฃุฒุฑุงุฑ ููุงูุชูุงู ุจูู ุงูุฃูุณุงู\nโข ูู ูุณู ูุญุชูู ุนูู ุดุฑูุญุงุช ููุตูุฉ ููุตุงุฆุญ ุนูููุฉ\nโข ุงุณุชุฎุฏู ุฃุฒุฑุงุฑ ุงูุชููู ููุนูุฏุฉ ูุงููุชุงุจุนุฉ",
            inline=False
        )
        
        embed.set_footer(text="๐ก ูุตูุญุฉ: ุงุจุฏุฃ ุจุงููุธุงู ุงูุงูุชุตุงุฏู ุฅุฐุง ููุช ูุจุชุฏุฆุงู")
        return embed

class DetailedHelpView(View):
    def __init__(self, help_system):
        super().__init__(timeout=300)  # 5 ุฏูุงุฆู
        self.help_system = help_system
        self.current_section = None
        self.current_subsection = None
        
        # ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ุงูุฃูุณุงู ุงูุฑุฆูุณูุฉ
        self.add_item(SectionButton("๐ฐ", "economy", "ุงูุงูุชุตุงุฏ"))
        self.add_item(SectionButton("โ๏ธ", "combat", "ุงููุชุงู"))
        self.add_item(SectionButton("๐ฐ", "dungeons", "ุงูุณุฑุงุฏูุจ"))
        self.add_item(SectionButton("๐พ", "farming", "ุงูุฒุฑุงุนุฉ"))
        self.add_item(SectionButton("๐", "trading", "ุงูุชุฏุงูู"))

class SectionButton(Button):
    def __init__(self, emoji, section_key, label):
        super().__init__(emoji=emoji, label=label, style=ButtonStyle.primary)
        self.section_key = section_key
    
    async def callback(self, interaction: Interaction):
        view = self.view
        section_data = view.help_system.detailed_explanations[self.section_key]
        
        embed = Embed(
            title=f"{section_data['icon']} {section_data['title']}",
            description=section_data['description'],
            color=0x3498db
        )
        
        # ุฅุถุงูุฉ ุฃูุณุงู ูุฑุนูุฉ
        subsections_text = ""
        for key, subsection in section_data['sections'].items():
            subsections_text += f"๐ **{subsection['title']}**\n"
        
        embed.add_field(
            name="๐ ุงูุฃูุณุงู ุงููุชุงุญุฉ:",
            value=subsections_text,
            inline=False
        )
        
        # ุฅูุดุงุก view ููุฃูุณุงู ุงููุฑุนูุฉ
        new_view = SubsectionView(view.help_system, self.section_key, section_data)
        
        await interaction.response.edit_message(embed=embed, view=new_view)

class SubsectionView(View):
    def __init__(self, help_system, section_key, section_data):
        super().__init__(timeout=300)
        self.help_system = help_system
        self.section_key = section_key
        self.section_data = section_data
        
        # ุฅุถุงูุฉ ุฃุฒุฑุงุฑ ููุฃูุณุงู ุงููุฑุนูุฉ
        for key, subsection in section_data['sections'].items():
            self.add_item(SubsectionButton(subsection['title'][:20], key, subsection))
        
        # ุฒุฑ ุงูุนูุฏุฉ
        self.add_item(BackButton())

class SubsectionButton(Button):
    def __init__(self, label, subsection_key, subsection_data):
        super().__init__(label=label, style=ButtonStyle.secondary)
        self.subsection_key = subsection_key
        self.subsection_data = subsection_data
    
    async def callback(self, interaction: Interaction):
        embed = Embed(
            title=f"๐ {self.subsection_data['title']}",
            description=self.subsection_data['content'],
            color=0x27ae60
        )
        
        # ุฅุถุงูุฉ ุงููุตุงุฆุญ
        if 'tips' in self.subsection_data:
            tips_text = "\n".join(self.subsection_data['tips'])
            embed.add_field(
                name="๐ก ูุตุงุฆุญ ุงูุฎุจุฑุงุก:",
                value=tips_text,
                inline=False
            )
        
        embed.set_footer(text="ุงุณุชุฎุฏู ุงูุฃุฒุฑุงุฑ ููุชููู ุจูู ุงูุฃูุณุงู ุงููุฎุชููุฉ")
        
        # ุฅุถุงูุฉ ุฒุฑ ุงูุนูุฏุฉ
        back_view = View(timeout=300)
        back_view.add_item(BackToSectionButton(self.view.help_system, self.view.section_key, self.view.section_data))
        back_view.add_item(BackToMainButton(self.view.help_system))
        
        await interaction.response.edit_message(embed=embed, view=back_view)

class BackButton(Button):
    def __init__(self):
        super().__init__(label="๐ ุฑุฌูุน", style=ButtonStyle.danger)
    
    async def callback(self, interaction: Interaction):
        help_system = self.view.help_system
        embed = help_system.create_main_help_embed()
        new_view = DetailedHelpView(help_system)
        await interaction.response.edit_message(embed=embed, view=new_view)

class BackToSectionButton(Button):
    def __init__(self, help_system, section_key, section_data):
        super().__init__(label="๐ ุฑุฌูุน ูููุณู", style=ButtonStyle.secondary)
        self.help_system = help_system
        self.section_key = section_key
        self.section_data = section_data
    
    async def callback(self, interaction: Interaction):
        embed = Embed(
            title=f"{self.section_data['icon']} {self.section_data['title']}",
            description=self.section_data['description'],
            color=0x3498db
        )
        
        subsections_text = ""
        for key, subsection in self.section_data['sections'].items():
            subsections_text += f"๐ **{subsection['title']}**\n"
        
        embed.add_field(
            name="๐ ุงูุฃูุณุงู ุงููุชุงุญุฉ:",
            value=subsections_text,
            inline=False
        )
        
        new_view = SubsectionView(self.help_system, self.section_key, self.section_data)
        await interaction.response.edit_message(embed=embed, view=new_view)

class BackToMainButton(Button):
    def __init__(self, help_system):
        super().__init__(label="๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ", style=ButtonStyle.primary)
        self.help_system = help_system
    
    async def callback(self, interaction: Interaction):
        embed = self.help_system.create_main_help_embed()
        new_view = DetailedHelpView(self.help_system)
        await interaction.response.edit_message(embed=embed, view=new_view)

# ุฏูุฌ ุงููุธุงู ูุน ุงูุจูุช
def setup_advanced_help(bot):
    help_system = AdvancedHelpSystem(bot)
    
    @bot.command(name="ุดุฑูุญุงุช")
    async def advanced_help_command(ctx):
        embed = help_system.create_main_help_embed()
        view = DetailedHelpView(help_system)
        await ctx.send(embed=embed, view=view)
    
    @bot.command(name="ูุณุงุนุฏุฉ")
    async def help_alias(ctx):
        await advanced_help_command(ctx)
    
    return help_system
